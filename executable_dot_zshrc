# SSH Agent
if [ -z "$SSH_AUTH_SOCK" ]; then
    export SSH_AUTH_SOCK=/tmp/wincrypt-hv.sock
    ss -lnx | grep -q $SSH_AUTH_SOCK
    if [ $? -ne 0 ]; then
	    rm -f $SSH_AUTH_SOCK
        (setsid nohup socat UNIX-LISTEN:$SSH_AUTH_SOCK,fork SOCKET-CONNECT:40:0:x0000x33332222x02000000x00000000 >/dev/null 2>&1)
    fi
fi

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Fuck
eval $(thefuck --alias)

## Some aliases
alias cat=bat
alias lla=la
alias publicip='curl icanhazip.com'
alias explorer='/mnt/c/Windows/explorer.exe'

## Fix unusable LS_Colors
LS_COLORS='ow=01;36;40'
export LS_COLORS

## anaconda3 - initialise
eval "$(/home/thgeorgiou/Local/miniconda3/bin/conda shell.zsh hook)"

# Don't history commands that start with a space
export HISTIGNORE=' *'

# R User libraries
export R_LIBS_USER="/home/thgeorgiou/Local/R"

# Disable PS1 changes by python virtualenv
export VIRTUAL_ENV_DISABLE_PROMPT=1

# Alias o to explorer.exe
alias o="/mnt/c/Windows/explorer.exe"

# Setup pyenv
export PYENV_ROOT="$HOME/Local/pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init --path)"
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"

## PATH Changes
# yarn
export PATH="/home/thgeorgiou/Local/yarn/bin:$PATH"
# texlive
export PATH="/home/thgeorgiou/Local/texlive/bin/x86_64-linux:$PATH"
# poetry
export PATH="$HOME/.poetry/bin:$PATH"
# vscode
export PATH="/mnt/c/Users/thana/AppData/Local/Programs/Microsoft VS Code/bin:$PATH"
# meteor
export PATH=/home/thgeorgiou/.meteor:$PATH
# Local binaries (ie. pip)
export PATH="/home/thgeorgiou/.local/bin:$PATH"

# Use spaceship prompt
eval "$(starship init zsh)"
